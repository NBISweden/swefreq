<!-- requestAccess.html -->
<div ng-controller="requestController as requestCtrl">
  <br />
  <br />
  <br />
  <br />
  <div ng-if="requestCtrl.data.has_requested_access == false">
    <div class="container">
      <div class="row clearfix">
        <div class="col-md-12 column">
          <form class="form-horizontal" role="form" name="requestForm">
            <div class="form-group">
              <div class="col-sm-2"></div>
              <label class="col-sm-4 pull-left">Request access to
              the SweFreq dataset</label>
            </div>
            <div class="form-group">
              <label for="user_name"
              class="col-sm-2 control-label">Name</label>
              <div class="col-sm-4">
                <input type="text" class="form-control"
                id="user_name" ng-model="requestCtrl.data.userName"
                ng-disabled="true" placeholder="Your name" />
              </div>
            </div>
            <div class="form-group">
              <label for="email" class="col-sm-2 control-label">
              E-mail</label>
              <div class="col-sm-4">
                <input type="text" class="form-control" id="email"
                ng-model="requestCtrl.data.email"
                ng-disabled="true" placeholder="Your e-mail" />
              </div>
            </div>
            <div class="form-group">
              <label for="affiliation"
              class="col-sm-2 control-label">Affiliation</label>
              <div class="col-sm-4">
                <input type="text" class="form-control"
                id="affiliation"
                name="affiliation"
                required
                ng-model="requestCtrl.data.affiliation"
                placeholder="Your affiliation" />
              </div>
            </div>
            <div class="form-group">
              <label for="country"
              class="col-sm-2 control-label">Country</label>
              <div class="col-sm-4">
                <select name="country" class="form-control" id="country"
                    ng-options="option.name for option in requestCtrl.data.availableCountries track by option.name"
                    ng-model="requestCtrl.data.country"
                    required
                    >
                    <option value="">-- Select Country --</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-2"></div>
              <div class="col-sm-4 checkbox">
                <label class="control-label">
                    <input type="checkbox" id="newsletter" ng-model="requestCtrl.data.newsletter">
                    I want a newsletter
                    </input>
                </label>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <input type="submit" class="btn btn-primary"
                ng-click="requestCtrl.sendRequest(requestForm.$valid)"
                />
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-1 column"></div>
        <div class="col-md-8 column">
            <p>By submitting the application for registration you confirm that the information provided in the
            application is accurate.</p>

            <p>By submitting the application for registration you also agree to have the information that you submit
            (Name, affiliation, country and email) handled in accordance with the Swedish Personal Data Act
            (Personuppgiftslagen, 1998:204). The stored information will only be used for internal administrative
            purposes and not shared with other parties.</p>
        </div>
      </div>
    </div>
  </div>
  <div ng-if="requestCtrl.data.has_requested_access == true">
    <div class="col-sm-1"></div>
    <div class="col-sm-4">
      <label>You have already applied for access</label>
    </div>
  </div>
</div>
